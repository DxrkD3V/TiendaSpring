<!DOCTYPE html>
<html lang="es" xmlns:th="https://www.thymeleaf.org">
<head th:replace="~{/fragments/head :: headPage('Crear Producto','/css/form.css')}">
</head>
<body class="bg-gray-50 font-['Poppins']">
<main class="max-w-4xl mx-auto mt-40 mb-20">
  <h1 class="text-2xl font-bold text-gray-900 mb-6 text-center">Crear un nuevo producto</h1>
  <form method="post" th:object="${product}" class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md mt-10">

    <!-- Nombre -->
    <div class="mb-4">
      <label for="txt-name" class="block text-gray-600 text-sm font-bold mb-2">Nombre:</label>
      <input type="text" id="txt-name" th:field="*{name}" required
             class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
             th:classappend="${#fields.hasErrors('name')} ? 'border-red-500' : ''">
      <div class="text-red-500 text-xs italic" th:if="${#fields.hasErrors('name')}">
        <p th:each="error : ${#fields.errors('name')}" th:text="${error}"></p>
      </div>
    </div>

    <!-- URL de la Imagen -->
    <div class="mb-4">
      <label for="txt-imageurl" class="block text-gray-600 text-sm font-bold mb-2">URL de la Imagen:</label>
      <input type="text" id="txt-imageurl" th:field="*{imageurl}"
             class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
             th:classappend="${#fields.hasErrors('imageurl')} ? 'border-red-500' : ''">
      <div class="text-red-500 text-xs italic" th:if="${#fields.hasErrors('imageurl')}">
        <p th:each="error : ${#fields.errors('imageurl')}" th:text="${error}"></p>
      </div>    </div>

    <!-- Descripción -->
    <div class="mb-4">
      <label for="txt-description" class="block text-gray-600 text-sm font-bold mb-2">Descripción:</label>
      <textarea id="txt-description" th:field="*{description}"
                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                th:classappend="${#fields.hasErrors('description')} ? 'border-red-500' : ''"></textarea>
      <div class="text-red-500 text-xs italic" th:if="${#fields.hasErrors('description')}">
        <p th:each="error : ${#fields.errors('description')}" th:text="${error}"></p>
      </div>    </div>

    <!-- Precio -->
    <div class="mb-4">
      <label for="txt-price" class="block text-gray-600 text-sm font-bold mb-2">Precio (€):</label>
      <input type="number" id="txt-price" th:field="*{price}" step="0.01" required
             class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
             th:classappend="${#fields.hasErrors('price')} ? 'border-red-500' : ''">
      <div class="text-red-500 text-xs italic" th:if="${#fields.hasErrors('price')}">
        <p th:each="error : ${#fields.errors('price')}" th:text="${error}"></p>
      </div>    </div>

    <!-- Stock -->
    <div class="mb-4">
      <label for="txt-stock" class="block text-gray-600 text-sm font-bold mb-2">Stock:</label>
      <input type="number" id="txt-stock" th:field="*{stock}" min="0" required
             class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
             th:classappend="${#fields.hasErrors('stock')} ? 'border-red-500' : ''">
      <div class="text-red-500 text-xs italic" th:if="${#fields.hasErrors('stock')}">
        <p th:each="error : ${#fields.errors('stock')}" th:text="${error}"></p>
      </div>    </div>

    <!-- Fabricante -->
    <div class="mb-4">
      <label for="txt-manufacture" class="block text-gray-600 text-sm font-bold mb-2">Fabricante:</label>
      <input type="text" id="txt-manufacture" th:field="*{manufacture}" required
             class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
             th:classappend="${#fields.hasErrors('manufacture')} ? 'border-red-500' : ''">
      <div class="text-red-500 text-xs italic" th:if="${#fields.hasErrors('manufacture')}">
        <p th:each="error : ${#fields.errors('manufacture')}" th:text="${error}"></p>
      </div>    </div>

    <!-- Motor -->
    <div class="mb-4">
      <label for="txt-motor" class="block text-gray-600 text-sm font-bold mb-2">Motor:</label>
      <input type="text" id="txt-motor" th:field="*{motor}"
             class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
             th:classappend="${#fields.hasErrors('motor')} ? 'border-red-500' : ''">
      <div class="text-red-500 text-xs italic" th:if="${#fields.hasErrors('motor')}">
        <p th:each="error : ${#fields.errors('motor')}" th:text="${error}"></p>
      </div>    </div>

    <!-- Potencia -->
    <div class="mb-4">
      <label for="txt-hp" class="block text-gray-600 text-sm font-bold mb-2">Potencia (HP):</label>
      <input type="number" id="txt-hp" th:field="*{hp}" min="0"
             class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
             th:classappend="${#fields.hasErrors('hp')} ? 'border-red-500' : ''">
      <div class="text-red-500 text-xs italic" th:if="${#fields.hasErrors('hp')}">
        <p th:each="error : ${#fields.errors('hp')}" th:text="${error}"></p>
      </div>    </div>

    <!-- Velocidad Máxima -->
    <div class="mb-4">
      <label for="txt-maxVelocity" class="block text-gray-600 text-sm font-bold mb-2">Velocidad Máxima (km/h):</label>
      <input type="number" id="txt-maxVelocity" th:field="*{maxVelocity}" min="0"
             class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
             th:classappend="${#fields.hasErrors('maxVelocity')} ? 'border-red-500' : ''">
      <p class="text-red-500 text-xs italic" th:if="${#fields.hasErrors('maxVelocity')}" th:errors="*{maxVelocity}"></p>
    </div>

    <!-- Categoría -->
    <div class="mb-4">
      <label for="sel-category" class="block text-gray-600 text-sm font-bold mb-2">Categoría:</label>
      <select id="sel-category" th:field="*{category}" required
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline
          " th:classappend="${#fields.hasErrors('category')} ? 'border-red-500' : ''">
        <option value="" disabled selected>-- Seleccione una categoría --</option>
        <option th:each="category : ${categories}" th:value="${category.id}" th:text="${category.name}"></option>
      </select>
      <div class="text-red-500 text-xs italic" th:if="${#fields.hasErrors('category')}">
        <p th:each="error : ${#fields.errors('cateogry')}" th:text="${error}"></p>
      </div>    </div>

    <!-- Botón de enviar -->
    <div class="flex items-center justify-between">
      <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
        Aceptar
      </button>
    </div>

  </form>

  <a th:href="@{/admin/products}"><p>Volver al listado de productos</p></a>

</main>
</body>
</html>
